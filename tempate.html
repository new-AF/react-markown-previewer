<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>
		
	</title>
	<script src="./libraries/babel.min.js"></script>
	<script src="./libraries/react.development.js"></script>
	<script src="./libraries/react-dom.development.js"></script>
	<script src="./libraries/marked.min.js"></script>
	
	
	<style>
		body{
			margin: 0;
		}
		*{
			border:1px solid black;
			font-family: monospace, sans-serif;
			color: snow
		}
	</style>
</head>
  
<body>
	<main>
		<div id="react-container-1" class="react-container">
		
		<div>
	</main>
	
	<script type="text/babel">
		const Text= props=>{
			//box css
			const boxStyle={
				...props.style,
				'grid-column': '1/2',
				'box-shadow': '-0em -0em 2em -0.5em black',
				'resize': 'vertical',
				'overflow': 'auto',
				'display': 'grid',
				'grid-template-rows': '0.1fr 0.9fr',
				'align-content': 'stretch',
				'align-items': 'stretch',

			};
			const titleStyle={
				'text-align': 'center'
			};
			//textarea style
			const taStyle={
				'resize': 'none',
				'background-color': 'seagreen',
				color: 'snow'
			};
			return (<div style={boxStyle}>
				<h2 style={titleStyle}>Editor</h2>
				<textarea style={taStyle} value={props.input} onChange={props.onchange}/>
			</div>);
		};
		const Preview= props=>{
			const boxStyle={
				...props.style,
				'box-shadow': '-0em -0em 2em -0.1em black'
			};
			const titleStyle={
				'text-align': 'center'
			};
			//innerHTML substitute
			const contentStyle={
				
			};
			const contentStyle2={
				__html: props.output
			};
			const jsx= (<div style={boxStyle}>
				<h2 style={titleStyle}>Preview</h2>
				<div id="output" style={contentStyle} dangerouslySetInnerHTML={contentStyle2}></div>;
			</div>);
						
			return jsx;
		};

		class App extends React.Component{
			constructor(props){
				super(props);
				this.state={
					output: '',
					input: 
`# Welcome to my React Markdown Previewer!

## This is a sub-heading...
### And here's some other cool stuff:

Heres some code, \`<div></div>\`, between 2 backticks.

\`\`\`
// this is multi-line code:

function anotherExample(firstLine, lastLine) {
  if (firstLine == '\`\`\`' && lastLine == '\`\`\`') {
	return multiLineCode;
  }
}
\`\`\`
# Welcome to my React Markdown Previewer!

## This is a sub-heading...
### And here's some other cool stuff:

Heres some code, \`<div></div>\`, between 2 backticks.

\`\`\`
// this is multi-line code:

function anotherExample(firstLine, lastLine) {
  if (firstLine == '\`\`\`' && lastLine == '\`\`\`') {
	return multiLineCode;
  }
}
\`\`\`
`
				};
				this.inputOnChange= this.inputOnChange.bind(this);
			}
			//only place that changes state
			newState(object){
				this.setState(prevState=> object);
			}
			inputOnChange(event){
				const text= event.target.value;
				this.newState({'input': text});
				const html= marked.parse(text);
				this.newState({'output': html});
			}
			render(){
				const style= {
					'background-color': 'teal',
					'display': 'grid',
					'grid-template-rows': '1fr repeat(1,5fr) 1fr',
					'grid-template-columns': '1fr 2fr',
					'justify-items': 'stretch',
					'grid-gap': '1em'
				};
				const titleStyle={
					'grid-column':'1/3',
					'justify-self': 'center'
				};
				const byStyle={
					...titleStyle,
					'align-self': 'center'
				};

				return (<div style={style}>
					<h1 style={titleStyle}>Markdown Previewer</h1>
					<Text input={this.state.input} onchange={this.inputOnChange}/>
					<Preview output={this.state.output}/>
					<div style={byStyle}>by Abdullah Fatota</div>
				</div>);
			}
		}
		
		
		const container=document.querySelector('#react-container-1');
		ReactDOM.render(<App/>,container);

	</script>
	
	<script src="./libraries/test bundle.js"></script>

	
</body>

</html>